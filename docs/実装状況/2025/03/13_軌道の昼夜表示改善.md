# 軌道の昼夜表示改善

## 概要

衛星軌道の昼夜表示を改善し、各ポイントの時刻に基づいて昼夜を判定するようにしました。また、昼夜の視覚的な区別を明確にするために、線のスタイルを変更しました。

## 実装内容

### 1. 各ポイントの時刻に基づく昼夜判定

- 軌道上の各ポイントが、その位置にいる時刻における昼夜を反映するように修正
- 現在の時刻ではなく、各ポイントの時刻（簡略化のため10分ごとにずらした時刻）を使用
- `isDaylight`関数に時刻パラメータを追加し、その時刻における太陽位置に基づいて昼夜を判定

### 2. 昼夜の視覚的な区別の改善

- 色の設定：昼夜で同じ色を使用し、仰角による色分けを維持
  - 最適（45°以上）: 明るい黄色
  - 良好（20-45°）: 明るいオレンジ
  - 可視（10-20°）: オレンジ
  - 不良（0-10°）: 赤
  - 不可視（0°未満）: グレー

- 線のスタイル：昼夜で異なるスタイルを使用
  - 昼間: 実線、太め
  - 夜間: 破線、細め

- 透明度：仰角に応じて透明度を調整
  - 最適: 1.0（完全不透明）
  - 良好: 0.9
  - 可視: 0.8
  - 不良: 0.6
  - 不可視: 0.4

## 技術的な詳細

- `SatelliteOrbitLayer.tsx`を修正し、各ポイントの時刻に基づいて昼夜を判定するように変更
- 昼夜に基づいた色とスタイルの定義を追加
- 線のスタイル（太さ、破線/実線、透明度）を昼夜と仰角に応じて変更

## 今後の課題

- 現在の実装では、各ポイントの時刻を簡略化して計算しています（10分ごとにずらした時刻）
- 将来的には、軌道上の各ポイントの正確な時刻を使用するように改善する必要があります
- これには、`App.tsx`で`OrbitPath`オブジェクトを作成する際に時刻情報を含めるようにする修正が必要です
