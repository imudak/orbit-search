# 地図UI改善デザイン提案書

## 背景と課題

現行UIには以下の問題点があります：

1. 地図の中にコントロール用のUIが多すぎて地図自体が隠れてしまう
2. 地図内には操作系のアイコン（拡大縮小など）だけあれば十分
3. 情報の表示非表示が使いにくい
4. 地図のモードがわかりにくく、モードなしの方が望ましい
5. パネルを開閉するUIは使いにくい
6. 検索パネルをリスト内に配置し開閉可能にした設計がわかりにくい
7. 地図のレイヤー設定は使用頻度が低いため削除が望ましい

テスト用のmap-test.htmlは、情報が一望でき入力や操作が簡単なため使いやすいとの評価です。このフィードバックを基に、新しいUIデザインを提案します。**ただし、本提案の目的は単なるテストHTMLの改善ではなく、本体アプリケーションの機能を最適な形で実現するUIデザインを構築することにあります。**

## 本体アプリケーションの機能要件

本提案では、以下の既存アプリケーション機能を効果的に実現することを目指します：

1. **位置選択と衛星検索**: 地図上で位置を選択し、その地点から観測可能な衛星を検索できる機能
2. **軌道表示**: 選択した衛星の軌道パスを地図上に表示する機能
3. **衛星情報表示**: 選択した衛星の詳細情報を表示する機能
4. **軌道アニメーション**: 衛星の軌道をアニメーションで確認できる機能
5. **TLEデータ・観測データの管理**: 衛星のTLEデータや観測データをダウンロードできる機能
6. **モード切替**: 通常モード、アニメーションモード、分析モードなどを切り替える機能
7. **レイヤー管理**: 地図上の様々なレイヤーを制御する機能

## 提案デザイン概要

各デザイン案は、実際に動作するHTMLファイルとして実装しており、docs/ui-design-proposals/demo ディレクトリで確認できます。これらのデザイン案は、テスト用HTMLの直感的操作性を取り入れつつ、本体アプリケーションの全機能を実現するよう設計されています。

### 目次

1. [ユーザー要望対応型UI](#デザイン1ユーザー要望対応型ui)
2. [先進的ジェスチャーベースUI](#デザイン2先進的ジェスチャーベースui)
3. [人間工学最適化UI](#デザイン3人間工学最適化ui)
4. [共通の改善点](#共通の改善点)

## デザイン1：ユーザー要望対応型UI

**コンセプト**: シンプルで情報が一目でわかるUIを目指し、ユーザーの要望を直接反映させたデザイン

<!-- プロトタイプのHTMLファイルがあります: [user-focused-design.html](./demo/user-focused-design.html) -->

### 特徴

- **2ペインレイアウト**: 地図と操作パネルを明確に分離
- **常時表示の操作パネル**: 開閉操作を排除し、常に必要な情報と操作を表示
- **地図内のコントロール最小化**: 地図上には拡大縮小と現在地表示のみ
- **モードレス操作**: 状態管理が不要なシンプルな操作体系
- **タブ方式の情報セクション**: 異なる情報を切り替えられるが、常に表示
- **統合検索インターフェース**: 検索機能をメインパネルに統合

### メリット

- 全機能への素早いアクセス
- 操作の単純化（開閉動作の排除）
- 地図表示領域の最大化
- 学習コストの低減

### 改善ポイント

- 情報が一目で把握できる
- 直感的なタブ切り替えで全機能にアクセス可能
- 地図を隠す要素を最小限に抑制
- 検索機能の可視性向上

## デザイン2：先進的ジェスチャーベースUI

**コンセプト**: 最新のUI/UXトレンドを取り入れた、視覚的に洗練されたモダンインターフェース

<!-- プロトタイプのHTMLファイルがあります: [advanced-gesture-ui.html](./demo/advanced-gesture-ui.html) -->

### 特徴

- **フルスクリーン地図表示**: UIは必要時のみ表示され、地図を最大限に活用
- **ジェスチャー操作**: スワイプ、ピンチ、タップでほとんどの操作を実行
- **コンテキスト依存メニュー**: 必要な時に必要な情報だけを表示
- **フローティングアクションボタン**: 主要機能に素早くアクセス
- **アニメーションと遷移効果**: 滑らかな視覚的フィードバック
- **ダークモード対応**: 環境や好みに応じた表示切替

### メリット

- 最大限の地図表示領域
- スタイリッシュで現代的な操作感
- 熟練ユーザー向けの効率的な操作
- 視覚的魅力の向上

### 改善ポイント

- 従来のボタン操作からジェスチャーへの移行による操作性向上
- 情報の階層化による視覚的整理
- 滑らかなアニメーションによる状態遷移の明確化
- 地図と情報の統合表示

## デザイン3：人間工学最適化UI

**コンセプト**: すべてのユーザーにとって使いやすく、学習コストが最小限のアクセシブルなインターフェース

<!-- 注: このデザイン案はコンセプト段階であり、現時点ではプロトタイプは実装されていません -->

### 特徴

- **高コントラストUI**: 可読性と認識性の向上
- **大きな操作ターゲット**: タッチしやすく、誤操作を減少
- **論理的グループ化**: 関連機能の近接配置
- **一貫した操作パターン**: 学習しやすい統一された操作方法
- **段階的な情報表示**: 重要度に応じた情報の階層化
- **ヘルプとフィードバック**: 操作ガイダンスとエラー回復の容易化

### メリット

- 幅広いユーザー層への対応
- 高い学習効率と操作性
- ミス防止と回復の容易さ
- 長時間使用時の疲労軽減

### 改善ポイント

- フィッツの法則に基づいた効率的なUI配置
- カラーコントラストと視認性の最適化
- 操作フローの簡略化と標準化
- アクセシビリティガイドラインへの準拠

## 共通の改善点

すべてのデザイン案に共通する改善点：

1. **レイヤー設定の削除**: 使用頻度の低い機能を排除
2. **地図モードの簡素化/統合**: モード切替を減らしてシンプルな操作体系へ
3. **情報アクセスの効率化**: 必要な情報への到達を容易に
4. **検索機能の強化**: 検索インターフェースの可視性と使いやすさ向上
5. **地図表示領域の最大化**: コントロールの最適配置による地図の視認性向上

## デザイン選択の指針

各デザイン案を評価する際は、以下の観点から本体アプリケーションの機能要件との整合性を検討する必要があります：

### デザイン1：ユーザー要望対応型UI
- **機能網羅性**: 衛星検索、観測地点設定、軌道表示、衛星情報表示などの主要機能をすべて直接アクセス可能な形で配置
- **学習コスト**: タブによる明確な区分けにより、初心者でも機能を見つけやすい
- **実装容易性**: 既存のMUIコンポーネントを活用しやすく、実装コストが低い
- **エクスペリエンス**: 常に情報が表示されるため、操作効率は高いが、地図表示領域が若干減少する

### デザイン2：先進的ジェスチャーベースUI
- **機能網羅性**: 必要に応じてUIが表示されるため、すべての機能にアクセスできるが、一部は階層的な操作が必要
- **学習コスト**: 新しいジェスチャー操作の習得が必要で、初心者には若干難しい可能性がある
- **実装容易性**: カスタムジェスチャー認識やアニメーション実装など、実装コストがやや高い
- **エクスペリエンス**: 地図表示領域が最大化され、慣れると非常に効率的な操作が可能

### デザイン3：人間工学最適化UI
- **機能網羅性**: アクセシビリティを重視し、すべての機能に代替的アクセス方法を提供
- **学習コスト**: 一貫した操作パターンと明確なフィードバックにより学習が容易
- **実装容易性**: アクセシビリティ対応のため、追加の実装作業が必要
- **エクスペリエンス**: 多様なユーザーに対応できるが、上級ユーザーには物足りなく感じられる可能性がある

## 実装と移行計画

デザイン案の選定後、実装は以下のフェーズで進めます：

### フェーズ1: コンポーネント設計と基盤構築（2週間）
1. 選択されたデザイン案の詳細仕様書作成
2. 共通コンポーネントの設計と実装
3. UI/UXプロトタイプのレビューと調整

### フェーズ2: 機能実装（4週間）
1. 地図表示と基本操作機能
2. 衛星検索と情報表示機能
3. 軌道表示とアニメーション機能
4. データ管理機能（TLEデータ、観測データなど）

### フェーズ3: テストと最適化（2週間）
1. 単体テストとUI結合テスト
2. ユーザビリティテストとフィードバック収集
3. パフォーマンス最適化

### フェーズ4: リリース準備と展開（1週間）
1. 最終調整とバグ修正
2. ドキュメント整備
3. 本番環境への反映

## 結論と推奨事項

現行UIの問題点を解決するため、3つの異なるアプローチのデザイン案を提案しました。各案は本体アプリケーションの機能要件を満たしつつ、異なるユーザー体験を提供します：

1. **ユーザー要望対応型UI**: 全機能への直接的なアクセスと明確な情報表示を重視したデザイン。初心者から上級者まで幅広いユーザーに対応し、学習コストが低い。
2. **先進的ジェスチャーベースUI**: 地図表示領域を最大化し、モダンなインタラクションを提供するデザイン。上級ユーザーや頻繁に利用するユーザーに特に適している。
3. **人間工学最適化UI**: アクセシビリティと使いやすさを最優先したデザイン。多様なユーザー層や異なる使用環境に対応する必要がある場合に最適。

現在の開発状況と既存ユーザーの特性を考慮すると、**ユーザー要望対応型UI**が最も適切な選択と考えられます。このデザインは：

- 既存の技術スタック（React、Material UI）と親和性が高く、実装コストを抑えられる
- シンプルな構造で学習コストが低く、新規ユーザーの獲得に有利
- すべての主要機能に直接アクセスできるため、衛星観測という専門的なタスクの効率を高める
- レスポンシブデザインにより、様々なデバイスでの使用に対応できる

選定後は前述の実装計画に沿って段階的に開発を進め、継続的にユーザーフィードバックを収集して改善を重ねることを推奨します。
